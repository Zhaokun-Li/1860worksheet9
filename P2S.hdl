CHIP P2S {
    IN indata[4], enable, load;
    OUT sout, complete;

    PARTS:
    Register(in=indata, load=load, out=storedData);
    Counter(width=2, out=bitCounter, inc=enable, reset=resetCounter);
    Mux4Way16(
        a=storedData[0], b=storedData[1], c=storedData[2], d=storedData[3], 
        sel=bitCounter, out=sout
    );
    And(a=enable, b=bitCounter[3], out=transmitComplete);
    DFF(in=transmitComplete, out=complete, reset=resetComplete);
}
